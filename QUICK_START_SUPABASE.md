# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

## ‚úÖ –®–∞–≥ 1: Channel ID —Å–æ—Ö—Ä–∞–Ω–µ–Ω

‚úÖ **Channel ID —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `bot/.env`:**
- `TELEGRAM_CHANNEL_ID=-1001781839176`
- `TELEGRAM_CHANNEL_USERNAME=@mansurmlrd`

---

## üìã –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase

### 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ [supabase.com](https://supabase.com)
2. –ù–∞–∂–º–∏—Ç–µ **"Start your project"**
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç)
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

---

### 2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

1. –ù–∞–∂–º–∏—Ç–µ **"New Project"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name**: `tg-finance-miniapp`
   - **Database Password**: –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –∏ **—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –ø–∞—Ä–æ–ª—å!
   - **Region**: –±–ª–∏–∂–∞–π—à–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `West US`)
   - **Pricing Plan**: **Free**
3. –ù–∞–∂–º–∏—Ç–µ **"Create new project"**
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã

---

### 3. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Project Settings** (‚öôÔ∏è —Å–ª–µ–≤–∞)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"API"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ **—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ**:
   - **Project URL**: `https://xxxxx.supabase.co`
   - **anon public key**: `eyJhbGc...` (–¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á)
   - **service_role key**: `eyJhbGc...` (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π, –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ!)

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ!**

---

### 4. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"SQL Editor"**
2. –ù–∞–∂–º–∏—Ç–µ **"New query"**
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase_migration.sql` –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** SQL-–∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
6. –ù–∞–∂–º–∏—Ç–µ **"Run"** (–∏–ª–∏ `Ctrl+Enter` / `Cmd+Enter`)
7. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: **"Success. No rows returned"**

---

### 5. –°–æ–∑–¥–∞–π—Ç–µ Edge Function

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Edge Functions"**
2. –ù–∞–∂–º–∏—Ç–µ **"Create a new function"**
3. –ù–∞–∑–≤–∞–Ω–∏–µ: `sync`
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase_edge_function_sync.ts` –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞
6. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Edge Function
7. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**

---

### 6. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã

1. –í **Project Settings** ‚Üí **"Edge Functions"** ‚Üí **"Secrets"**
2. –ù–∞–∂–º–∏—Ç–µ **"Add new secret"**
3. –î–æ–±–∞–≤—å—Ç–µ –¥–≤–∞ —Å–µ–∫—Ä–µ—Ç–∞:

   **–°–µ–∫—Ä–µ—Ç 1:**
   - **Name**: `BOT_TOKEN`
   - **Value**: `7568002456:AAFpZOYNjGXbYxaeZ-fdQwliyCApbpZ7B3A`
   - –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

   **–°–µ–∫—Ä–µ—Ç 2:**
   - **Name**: `TELEGRAM_CHANNEL_ID`
   - **Value**: `-1001781839176`
   - –ù–∞–∂–º–∏—Ç–µ **"Add secret"**
   
   **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ username (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):**
   - **Name**: `TELEGRAM_CHANNEL_USERNAME`
   - **Value**: `@mansurmlrd`
   - –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

- ‚úÖ –ü—Ä–æ–µ–∫—Ç Supabase —Å–æ–∑–¥–∞–Ω
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ "Table Editor")
- ‚úÖ Edge Function `sync` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ö–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –®–∞–≥–∞ 2, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ **–®–∞–≥—É 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª–∏–µ–Ω—Ç–∞**.

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

**–ù–µ –º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:**
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω

**–û—à–∏–±–∫–∞ –≤ SQL:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤–µ—Å—å –∫–æ–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–±–ª–∏—Ü —Å —Ç–∞–∫–∏–º–∏ –∏–º–µ–Ω–∞–º–∏

**Edge Function –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Edge Functions ‚Üí sync ‚Üí Logs
