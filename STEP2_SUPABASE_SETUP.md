# –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ [supabase.com](https://supabase.com)
2. –ù–∞–∂–º–∏—Ç–µ **"Start your project"** –∏–ª–∏ **"Sign up"**
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

### 2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ **"New Project"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **Name**: `tg-finance-miniapp` (–∏–ª–∏ –ª—é–±–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
   - **Database Password**: –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!)
   - **Region**: –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `West US` –∏–ª–∏ `Central EU`)
   - **Pricing Plan**: –≤—ã–±–µ—Ä–∏—Ç–µ **Free** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)
3. –ù–∞–∂–º–∏—Ç–µ **"Create new project"**
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã, –ø–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è

---

### 3. –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Project Settings** (–∏–∫–æ–Ω–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ —Å–ª–µ–≤–∞)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"API"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ:
   - **Project URL**: `https://xxxxx.supabase.co`
   - **anon public key**: `eyJhbGc...` (–¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á)
   - **service_role key**: `eyJhbGc...` (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ!)

**–í–∞–∂–Ω–æ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ –∫–ª—é—á–∏ ‚Äî –æ–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

### 4. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"SQL Editor"**
2. –ù–∞–∂–º–∏—Ç–µ **"New query"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ SQL-–∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase/migrations/001_create_tables.sql` (—Å–º. –Ω–∏–∂–µ)
4. –ù–∞–∂–º–∏—Ç–µ **"Run"** –∏–ª–∏ `Ctrl+Enter` (Mac: `Cmd+Enter`)
5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "Success. No rows returned"

---

### 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Edge Functions (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏)

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Edge Functions"**
2. –ù–∞–∂–º–∏—Ç–µ **"Create a new function"**
3. –ù–∞–∑–≤–∞–Ω–∏–µ: `sync`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase/functions/sync/index.ts` (—Å–º. –Ω–∏–∂–µ)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é

---

### 6. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ ID –∫–∞–Ω–∞–ª–∞)

1. –í **Project Settings** ‚Üí **"Edge Functions"** ‚Üí **"Secrets"**
2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:
   - **BOT_TOKEN**: `7568002456:AAFpZOYNjGXbYxaeZ-fdQwliyCApbpZ7B3A`
   - **TELEGRAM_CHANNEL_ID**: –≤–∞—à Channel ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `-1001234567890`)

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

- ‚úÖ –ü—Ä–æ–µ–∫—Ç Supabase —Å–æ–∑–¥–∞–Ω
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã `users` –∏ `user_data` —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Edge Function `sync` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã `BOT_TOKEN` –∏ `TELEGRAM_CHANNEL_ID` –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ Project URL –∏ –∫–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –®–∞–≥–∞ 2, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ **–®–∞–≥—É 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**.

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

**–ù–µ –º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ email
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω

**–ù–µ –≤–∏–∂—É SQL Editor:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã)
- –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ SQL:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤–µ—Å—å –∫–æ–¥
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü —Å —Ç–∞–∫–∏–º–∏ –∂–µ –∏–º–µ–Ω–∞–º–∏
