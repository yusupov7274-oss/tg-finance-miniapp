# ‚úÖ –®–∞–≥ 3: API –∫–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **–°–æ–∑–¥–∞–Ω API –∫–ª–∏–µ–Ω—Ç** (`web/src/lib/api.js`)
   - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å Supabase
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Supabase
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–æ—Ñ–ª–∞–π–Ω, –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω)

2. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω storage.js**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase API
   - –û—Ñ–ª–∞–π–Ω-first –ø–æ–¥—Ö–æ–¥ (localStorage –∫–∞–∫ –∫—ç—à)
   - –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI)
   - Fallback –Ω–∞ Cloud Storage

3. ‚úÖ **–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env`** —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏:
   - `VITE_SUPABASE_URL=https://zhchkxukgltknfbropqu.supabase.co`
   - `VITE_SUPABASE_ANON_KEY=sb_publishable_m96BQEXNJw5_L_CI0kQkUg_0vdPodFS`

4. ‚úÖ **–°–æ–∑–¥–∞–Ω `.env.example`** (—à–∞–±–ª–æ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

**–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏!** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –∏ –Ω–µ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ Git.

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ:

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `.env` –≤ `.gitignore`
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ GitHub Pages

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   cd web
   npm run dev
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Telegram Mini App (—á–µ—Ä–µ–∑ –±–æ—Ç–∞)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
   - ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   - ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç localStorage)
   - ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–µ

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

**–û—à–∏–±–∫–∞ "API not configured":**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ `web/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `VITE_`

**–û—à–∏–±–∫–∞ "NOT_SUBSCRIBED":**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª `@mansurmlrd`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Edge Function `sync` —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

**–î–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Supabase –ø—Ä–æ–µ–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Edge Function –¥–µ–ø–ª–æ–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
